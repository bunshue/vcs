 日月 光华   - -   Network 精华区 文章 阅读 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   发信人 :   truelies   ( 柯信 ) ,   信 区 :   Network 标     题 :   E - mail 传送 中 的 三种 编码标准 发信站 :   日月 光华 站   ( Mon   Mar   23   21 : 23 : 31   1998 )   ,   转信                                         　 　 一 、 编码 的 必要性                                                                                                       　 　 E － mail 只能 传送 ASCII 码 ( 美国 国家标准 信息 交                                         换码 ) 格式 的 文字 信息 ， ASCII 码是 7 位 代码 ， 非 ASCII 码格                                         式 的 文件 在 传送 过程 中 就 需要 ， 先 编成 7 位 的 ASCII 代码 ，                                         然后 才能 通过   E － mail 进行 传送 ； 如果 不 经过 编码 ， 则 在                                         传送 过程 中 会 因为 ASCII 码 7 位 的 限制 而 被 分解 ， 分解 之后                                         只会 让 收信 方 看到 一堆 杂乱 的   ASCII 字符 。 经过 编码 后 的                                         文件 ， 在 传送 过程 中 可 顺利 传送 ， 不会 有 “ 被 截掉 一位 ”                                         的 危险 。 但是 收信 方 必须 具有 相应 的 解码程序 ， 将 这份 经                                         过 编码 的 东西 还原 ， 才能 看到 发信人 要 传送 的 信息 是 什么                                         。                                                                                                                                                 　 　 有 一点 要 注意 ： 大部分 的 人 认为 “ 文本文件 不需                                         要 编码 ” ， 但 我们 的 中文 是 属于   8 位 代码 的 文字 ， 并 不是                                         标准 的   ASCII 码 格式 ， 由于 在 国内 中文 是 通行 的 文字 ， 所                                         以 大部分 的 邮件 服务器 都 已 能够 处理 GB 内码 的 文件 ， 因而                                         不 需要 做 这种 编码   / 解码 的 操作 ， 可以 直接 传送 。 但 如果                                         要 送 中文 邮件 到 国外 ， 就 需要 经过 这种 转换 才能 传送 ， 因                                         为 国外 的 邮件 服务器 是 无法 辨认 中文 内码 的 。 中文 码 在 经                                         过 一些 不 支持 中文 内码 的 传递 主机 时 ， 依然 会 被 截掉 一位                                         ， 造成 文件 支离破碎 无法 读取 。 而 经过 编码 的 中文 邮件 ，                                         收信人 收到 后 将 文件 解码 还原 ， 也 需要 有 中文系统 才能 看                                         所写 的 中文信息 。                                                                                                                     　 　 二 、 常见 的 三种 编码标准                                                                                           　 　 ● UU 编码 ( Unix － to － Unix   encoding )                                                                 　 　 uuencode 和 uudecode 原来 是 unix 系统 中 使用 的 编                                         码 和 解码程序 ， 后来 被 改写 成为 在   DOS 中 亦可 执行 的 程序                                         。 在 早期 传送 非   ASCII 码 的 文件 时 ， 最 常用 的 便是 这种 UU                                         编码方式 。                                                                                                                                 　 　 使用 的 方法 是 ： 发邮件 前 ， 在 DOS 下先用 uuencod                                           e  exe 程序 将 原文件 编码 成 ASCII 码 文件 ， 然后 将 邮件 发                                         出 。 收信人 收到 邮件 后 ， 用   uudecode  exe 程序 将 文件 还                                         原 。                                                                                                                                             　 　 基于 Windows 的 类似 程序 有 wincode 和 winzip 等 。                                         wincode 的 使用 原理 和 DOS 下 的 uuencode 和 uudecode 没什么                                         两样 ， 只是 在 Windows 的 界面 下 操作 更为 简便 。 wincode 除                                         支持 UU 编码 外 也 支持 MIME 、 Binhex 等 编码 格式 ， 应用 范围                                         颇为 广泛 。                                                                                                                                 　 　 以上 介绍 的 UU 编码 并非 只能 编 中文 文字 。 任何 你                                         要 寄送 的 文件 包括   exe 等 二进制 文件 都 可以 按照 编码 → 发                                         送 → 收信 方 收信 → 解码 还原 的 步骤 传送 。                                                                             　 　 ● MIME 标准 ( Multipurpose   Internet   Mail   Exte                                           ntions )                                                                                                                                     　 　 UU 编码 解决 了 E － mail 只能 传送 ASCII 文件 的 问题                                         。 但 这种 方式 其实 并 不是 很 方便 ， 因而 又 发展 出 一种 新 的                                         编码标准 ， 其 全名是 Multipurpose   Internet   Mail   Exten                                           tions ， 一般 译作 “ 多媒体 邮件 传送模式 ” 。 顾名思义 ，                                         它 可以 传送 多媒体 文件 ， 在 一 封电子邮件 中 附加 各种 格式                                         文件 一起 送 出 。                                                                                                                         　 　 MIME 标准 现已 成为 Internet 电子邮件 的 主流 。 它                                         的 好处 是 以 物件 作为 包装 方式 ， 可 将 多种不同 文件 一起 打                                         包后 传送 。 发信人 只要 将要 传送 的 文件 选 好 ， 它 在 传送 时                                         即时 编码 ， 收信人 的 软件 收到 也 是 即时 解码 还原 ， 完全 自                                         动化 ， 非常 方便 。 当然 先决条件 是 双方 的 软件 都 必须 具有                                         这种 功能 ， 要不然 发信人 很 方便 地 把 信 送出去 了 ， 但 收信                                         人 的 软件 如果 没有 这种 功能 ， 无法 把 它 还原 ， 看到 的 也 就                                         是 一大堆 乱码 了 。 使用 这种 方式 ， 用户 根本 不 需要 知道 它                                         是 如何 编码   / 解码 的 。 即使 只是 用 文字 写 的 信 ， 一样 是 打                                         好 包便 寄出 。 如果 是 要 寄 多媒体 文件 ， 只要 做选 文件 的 动                                         作 ， 选完 后 寄出 ， 其余 的 工作 由 电子邮件 软件 自动 完成 。                                         由于 MIME 的 方便性 ， 愈来愈多 的 电子邮件 软件 采用 这种 方                                         式 。 ( 我们 现在 最 常 使用 的 电子邮件 软件 Eudora 、 Netscap                                           e   Mail 、 Internet   Mail 等 就是 采用 MIME 方式 ， 所以 我们                                         才能 如此 轻松 地 收发 电子邮件 。   )                                                                                         　 　 MIME 定义 的 是 一种 规格 ， 也 可以 说 是 一种 统称 。                                         其实 能够 符合 这种 规格 的 编码方式 并 不是 单一 的 一种 ， 只                                         要 符合 这种 MIME 规格 便 可 顺利 传送 。 以 货运 作为 比喻 ， 若                                         货运公司 规定 送交 货运 的 规格 是   1 立方米 大小 的 箱子 便 可                                         托运 ， 它 并 没有 限制 一定 要 用 木箱 或是 铁 皮箱 ， 只要 是   1                                         立方米 大小 ， 货运公司 就 帮 你 送达 。 至于 箱子 里 你 是 装食                                         品 或是 书本 或是 衣服 或是 混合 着装 也 没有 限定 ， 也就是说                                         ， 多种 格式 的 文件 可以 一起 寄送 。                                                                                           　 　 就 上例 而言 ， “ 1 立方米 大小 ” 是 货运 规格 ， 也                                         就是 我们 的 MIME 规格 。 木箱 或 铁 皮箱 是 编码方式 ， 现在 我                                         们 就 来 看看 你 有 哪些 “ 箱子 种类 ” 可以 选择 。 MIME 定义 两                                         种 编码方式 ： Base64 与 QP ( Quote － Printable ) 。 QP 的 规则                                         是 对于 资料 中 的   7 位 无须 重复 编码 ， 仅 将 8 位 的 数据 转成 7                                         位 。   QP 编码 适用 于 非 ASCII 码 的 文字 内容 ， 例如 我们 的 中                                         文 文件 。 而 Base64 的 编码 规则 ， 是 将 整个 文件 重新 编码 成                                           7 位 ， 通常 用于 传送 二进制 文件 。 编码 的 方式 不同 会 影响                                         编码 之后 的 文件大小 。 而 具有   MIME 功能 的 E － mail 软件 大                                         都 能 自动 判别 你 的 邮件 是 采用 何种 编码 ， 然后 自动 选择 用                                         QP 或 Base64 来 解码 。                                                                                                                 　 　 QP 编码 的 方式 ， 是 将 一个 字节 用 两个 16 进制 数值                                         表示 ， 然后 在 前面 加 “   = ” 。 所以 我们 看到 经过 QP 编码 后                                         的 文字 通常 是 这个 样子 ：                                                                                                         　 　 = A4j = AEa = A6n = A1I = A7 = DA = AC0 = B1 = E7 = A9s = A7g = A                                         1A = AB = DC = B0 = AA = B                                                                                                                     　 　 Base64 编码 后 的 文字 通常 是 ：                                                                                 　 　 pGquYaZuoUmn2qxPseepc6dnoUGr3LCqv70ms773t3                                         ym                                                                                                                                                   Yqa5plakaq5hptu                                                                                                             　 　 如果 你 使用 支持 MIME 标准 的 电子邮件 软件 ， 那么                                         在 收发 信件 的 过程 中是 看不到 这些 乱七八糟 的 字符 的 。 但                                         如果 很 不幸 ， 收信人 没有 这种 支持 MIME 的 软件 ， 他 看到 的                                         东西 就是 上面 那 一大 段 符号 了 。 不过 别急 ， 你 仍然 可以 先                                         将 这份 “ 天书 ” 存档 ， 然后 使用 一些 decode 软件 把 它 翻译                                         回来 。                                                                                                                                         　 　 ● Binhex 编码                                                                                                               　 　 Binhex 的 编码方式 常用 于 Mac 机器 ， 在 PC 上 是 较                                         少 使用 的 一种 编码方式 。 一般 PC 上 的 电子邮件 软件 ， 亦 多                                         数 支持 MIME 的 规格 ， 很少 有 支持 Binhex 格式 。 在 常用 的 电                                         子 邮件 软件 中 ， 唯 Eudora 具有 这种 功能 ， 可 直接 解读 Binh                                         ex 的 编码 ， 如果 你 收到 了 这种 由 Binhex 所 编码 的 邮件 ， 而                                         且 你 的 mail 软件 并 不是 Eudora 或 其他 支持 Binhex 格式 的 软                                         件 。 那 也 得 用 一个 解读 Binhex 的 程序 解码 。 有 一个 共享 软                                         件   Binhex3  exe 具有 这个 功能 ， 它 在 许多 FTP 站点 都 能 找                                         到 。                                                                                                                                             　 　 在 Windows 下 ， 你 还 可以 用 我们 前面 所 介绍 的 win                                         code 来 解码 。 本文 介绍 的 UU 编码 、 MIME 以及 Binhex 都 可以                                         用 它 来 处理 。 但 可惜 的 是 ， 对于 MIME ， 它 只 处理 Base64 的                                         编码 。 如果 能 再 加上 QP 的 功能 ， 真的 可以 靠 它 走遍 天下 了                                         。                                                                                                                                                 　 　 在 MIME 几乎 已成 标准 规格 的 现在 ， 用 一套 支持 MI                                         ME 的 软件 来 做 收发 E － mail 的 工作 ， 这些 编码 / 解码 工作 就                                         会 自动 完成 ， 不会 给 你 带来 麻烦 。 ( 湖南 　 孙 　 谦 )             - -                             不可不 信 - - For   it ' s   true ;                             不可 全 信 - - For   it ' s   lies . ※   来源 : · 日月 光华 站   bbs . fudan . edu . cn · [ FROM :   ms ]   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ 返回 上 一页 ]   [ 本 讨论区 ]