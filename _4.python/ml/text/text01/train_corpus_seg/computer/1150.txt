 日月 光华   - -   Hardware 精华区 文章 阅读 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   发信人 :   Lleyton   ( 夹心 巧克力 ) ,   信 区 :   Hardware 标     题 :   软硬 结合 的 CPU 发信站 :   日月 光华   ( 2003 年 04 月 05 日 18 : 43 : 21   星期六 ) http : / / news . onlinedown . net / info / 5282 . htm 看过 多篇 关于 发展 我国 CPU 的 专家 文章 后 ， 我 再三 考虑 之后 决定 写 这 篇文章 发表 一点 （ 我 也 思考 多年 的 CPU 方案 ） 谬论 — — 软硬 结合 的 CPU 思路 。 CPU 发展 到 现在 已经 是 即将 从 32 位 转向 64 位 的 关键时期 ， 我们 豪杰 公司 是 纯正 的 软件 公司 ， 一直 从事 与 CPU 十分 有关 的 软件 优化 的 开发 ， 所以 对 CPU 的 理解 也 是从 软件 的 出发点 为 出发点 来 看待 国产 CPU 的 问题 。 CPU 有 两个 重点 ： （ 1 ） 性能 问题 。 （ 2 ） 兼容性问题 。 这 两个 问题 是 互相 关联 的 ， 兼容性问题 往往 会 增加 CPU 的 复杂度 ， 从而 下降 CPU 的 性能 。 有没有 两全其美 的 方法 呢 ？ 本人 的 看法 是 ： 有 。 那 就是 “ 软硬 结合 的 CPU ” ， 这种 CPU 被 一分为二 。 一部分 为 真实 硬件 CPU ， 另 一部分 是 软 CPU 技术 。 硬 CPU 部分 专攻 高性能 、 高速度 的 问题 ， 软 CPU 部分 专攻 体系 的 兼容性 的 复杂 的 问题 。 一个 有 市场潜力 的 CPU 是 有 高性能 的 计算能力 ， 也 有 对 “ X86 兼容 ” 性 的 “ 包袱 ” 问题 ， 不过 这个 “ 包袱 ” 是 一个 巨大 的 “ 钱包 ” ， 为什么 不背 呢 ？ 我 认为 专用 的 CPU 不会 长久 的 ， 越有 “ 包袱 ” 越有 市场 ， 越能 长久 ， 这 一点 没有 必要 进行 证明 了 。 过去 CPU 有 RISC 和 CISC 之争 ， 争论 的 焦点 在 “ 指令集 ” 上 ， 而 真正 的 赢家 是 高性 的 、 兼容 的 X86 系列 。 目前 Intel 已经 把 技术 的 重点 放于 IA — 64 之上 ， 在 64 位 的 计算 上 市场 的 竞争 也 是 才 开始 ， 众多 的 CPU 厂商 还 在 逐鹿 之中 ， 还 未知 胜于 谁 手 。 在 这 一点 上 我国 是 有 机会 的 ， 32 位 、 16 位 或 8 位巳成 残羹剩饭 。 64 位 的 体系结构 及 指令集 都 会 是 全新 的 ， 没有 多少 市场 的 惯性 ， 这是 重要 的 机会 。 另外 ， 在 64 位中 可以 直接 使用 最新 的 技术 成果 ， 如 VLIW 、 动态 执行 、 铜 芯 技术 、 纳米技术 等等 最新 技术 ， 在 这些 方面 也 容易 产生 自己 的 新 专利 ， 32 位 的 CPU 上 巳 没有 什么 可以 挖 的 地方 了 ， 在 32 位 以下 的 CPU 上 投下 赌注 是 注定 要 失败 的 ， 而 在 64 位上 投下 力量 却 有 巨大 的 机会 获胜 。 如何 兼容 ？ 在 IA — 64 中是 用 嵌入 IA — 64 中 的 “ 微 软件 ” 来 解决 对 X86 的 兼容问题 的 。 在 国外 使用 “ 软件技术 ” 的 CPU 还 不止 Intel 一家 ， 有 一家 叫 “ Transmedia ” 的 公司 也 在 用 这种 技术 来 做 兼容 X86 的 CPU ， 而且 是 低功耗 的 。 如果 在 64 位 的 计算 上能 做到 2G 以上 的 计算速度 ， 用 高性能 的 “ 软件技术 ” 就 可以 达到 1.5 G 以上 的 兼容 的 64 位 体系 ， 用 在 兼容 X86 之上 可以 有 3G 以上 的 计算 性能 。 软件技术 如何 能 达到 这样 的 性能 呢 ？ 软件技术 与 CPU 技术 一样 ， 在 CPU 的 技术 方向 已经 从 第一代 的 单指令 的 边续 处理 到 第二代 的 流水线 技术 ， 再 到 第三代 的 并行 流水线 技术 ， 又 到 动态 执行 的 多 流水线 技术 。 今天 的 CPU 内部 更 象是 一个 庞大 的 软件系统 。 实际上 当今 的 CPU 设计 几乎 就是 软件 的 设计 过程 。 软件 CPU 技术 在 目前 还 处在 第一代 单指令 连续 处理 的 阶段 ， 即 一条 一条 地 处理 指令 ， 这是 低效率 、 低 性能 的 ， 所以 第一代 的 软件 CPU 也 仅仅 称为 “ 虚拟机 ” 而 巳 ， 如 Java 虚拟 ， PC 虚拟机 等等 ； 效率 为 真实 机器 性能 的 1 % 以下 ， 这样 的 技术 不 可能 用于 CPU 之上 。 软件 CPU 技术 的 最新 方法 就是 与 第四代 CPU 技术 差不多 的 “ 动态 执行 ” 技术 ， 它 可以 取得 与 硬件 CPU 性能 的 80 % 左右 ， 好 的 算法 可以 达到 90 % 以上 ， 这样 的 “ 软件 CPU ” 技术 用 高速 的 硬件 CPU 上 就 会 带来 巨大 的 变化 。 变化 之一 ： CPU 的 硬件 不必 为 软件 的 兼容 总 问题 而 花费 心机 ， 也 不必 太 在意 CPU 的 具体 应用 的 软件 环境 问题 ， 专心 提高 性能 ， 降低功耗 即可 。 变化 之二 ： CPU 的 硬件 不必 再 设计 复杂 的 指令 体系 ， 而 把 精力 集中 在 高速 的 硬 指令 之上 ， 进一步 减小 电路 元件 的 单元 ， 有利于 大幅提高 CPU 的 工作频率 和 降低功耗 。 变化 之三 ： 直接 使用 最 先进 的 CPU 特殊 技术 ， 如铜 芯 技术 、 纳米技术 ， 使 CPU 有 很 高 的 工作 能力 ， 在 设计 和 制造 上 可以 大幅 创造 专利 ， 而 不必 太费 精力 于 过去 的 专利 问题 。 变化 之四 ： CPU 的 具体 实现 时 不再 需要 考虑 到 软件 体系 的 问题 ， 从而 可以 不断 地依 “ 代 ” 的 需要 而 改变 设计 ， 甚至 改变 基本 的 硬 指令 方式 ， 有利于 快速 升级换代 。 变化 之五 ： CPU 上 不再 有 巨大 的 技术壁垒 ， 有利于 竞争 、 多种 物理 体系 并存 ， 在 中国 才 会 有 机会 产生 可以 与 Intel 相比 的 技术 巨子 。 等等 ； 总之 把 CPU 一分为二 之后 许多 过去 的 难题 将会 迎刃而解 。 软硬 结合 的 CPU 体系 ： 可以 如图 ， 在 硬件 CPU 之上 执行 着 “ 软件 CPU ” 系统 ， “ 软件 CPU ” 可以 运行 在 主机 内存 或 专用 的 Cache 之中 ， 在 主机 内存 中 的 程序 及 数据 都 会 被 “ 软 CPU ” 来 处理 ， 即 “ 硬 CPU ” 的 指令 执行 不会 超出 “ 软 CPU ” 的 空间 ， 这 也 十分 有利于 物理 的 设计 ， 即 “ 硬 CPU ” 的 Cache 的 方法 不必 与 目前 的 X86 那样 来 进行 ， 它 甚至 可以 由 “ 软 CPU ” 来 处理 ， 这样 就 减少 了 Cache 的 设计 专利 的 涉及 问题 ， 同时 又 会 产生 许多 新 的 专利 。 “ 软 CPU ” 除了 可以 做到 与 X86 兼容 外 ， 也 可以 兼容 其他 的 指令集 ， 甚至 扩充 成 专门 定义新 指令集 也 不 困难 。 “ 软 CPU ” 是 由 软件 来 设计 的 ， 它 被 对象化 之后 ， 就 可以 同时 处理 “ 多个 软 CPU ” 的 功能 ， 即 有如 现在 最新 的 奔腾 4 多线程 CPU 技术 一样 ， 一个 CPU 在 软件 的 应用 上 看上去 象 两个 CPU 在 运行 。 这些 技术 用 物理 电路 来 做 是 太难 了 ， 所以 “ 软件 CPU ” 的 优势 就 体现 出来 了 。 国际 上 的 最新 CPU 技术 就 可以 轻易 地 达到 ， 这是 软件 的 优势 。 另一方面 “ 硬 CPU ” 部分 只 专心 于 CPU 的 速度 及 性能 、 功耗 等等 物理 问题 ， 阻碍 我国 CPU 发展 的 指令集 及 专利 将 大为 减少 ， 我国 的 许多 专用 的 特殊 的 技术 也 会 应用 起来 。 北京 世纪 豪杰 计算机技术 有限公司   董事长   梁 肇新 - - This   is   when   you   go   out   and   find   life   ... and   all   those   other   things . ※   来源 : · 日月 光华   bbs . fudan . edu . cn · HTTP   [ FROM :   10.100 . 135.73 ]   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - [ 返回 上 一页 ]   [ 本 讨论区 ]