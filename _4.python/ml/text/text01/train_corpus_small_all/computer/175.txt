
曙光超级服务器的研制

国家智能计算机研究开发中心（简称智能中心）是为实现国家高技术计划而组建的研究开发实体，其宗旨是发展计算机高技术，实现高性能计算机产业化，主要从事高性能计算机和超级服务器的研究与开发。 

智能中心从成立至今已先后研制开发出了曙光一号全对称多处理机系统，曙光1000大规模并行计算机系统，曙光2000-I大规模并行计算机系统，曙光2000-II大规模并行计算机系统，曙光天罗天联系统，曙光NT机群系统，曙光高可用系统等一批高技术成果。其中曙光一号获1994年中国科学院科技进步特等奖，1995年国家科技进步奖二等奖，并被写入94年全国人大政府工作报告；曙光1000大规模并行计算机系统，获1996年中国科学院科技进步奖特等奖，1997年国家科技进步奖一等奖。 

目前，智能中心拥有科研人员50多人，主要承担国家863重大项目曙光3000的研制任务，同时从事曙光系列产品的产品化工作。 

曙光1000大规模并行计算机系统


曙光1000大规模并行计算机系统(以下简称曙光1000)是国家863高技术计划取得的重大成果。它于1995年5月通过了由国家科委组织的国家级鉴定。曙光1000是继曙光一号计算机以后我国高性能计算机方面的又一里程碑，是当时国内研制的最高水平的计算机系统。它突破了一大批大规模并行处理(MPP)的关键技术，使中国成为世界上少数几个能研制和生产大规模并行计算机系统的国家之一。曙光1000在整体上达到了九十年代前期的国际先进水平，某些技术达到了当时的国际领先水平。曙光1000的研制成功不但具有重大的学术价值，而且产生了巨大的社会和经济效益。主要技术指标： 

浮点峰值计算速度为：单精度每秒25.6亿次，双精度每秒19.2亿次。实际运算速度已达每秒15.8亿次。 
内存容量：1024兆字节；磁盘容量：5GB~50GB。 
结点机36个，可扩充到72，144，甚至更多结点。 
采用基于蛀洞(Wormhole)机制的2D-Mesh通讯网，网络总通讯容量为4.8GB/S 
结点机与网络的通讯总带宽：2.8GB/S。支持C、C++和Fortran，提供并行优化重构工具PORT、程序自动并行化工具AutoPar、并行用户程序运行动态监视和分析工具 ParaVision，以及结点内源码级和目标码级优化工具。 
基于UNIX的并行分布式操作系统。 
提供并行编程和运行环境EXPRESS、PVM、MPI、NX和P4。 
并行程序调试环境NDB(源码级)和ADB(汇编级)。 
多媒体联机教学与帮助系统。 
部分应用软件。包括并行数值天气预报软件和石油地震数据处理软件。所有系统软件和用户环境均采用国际标准。 
曙光2000-II超级服务器 

曙光2000-II系统是国家863计划和中国科学院知识创新工程的重大成果，于2000年1月通过了国家科学技术部主持的国家级鉴定。经过近半年的产品化开发，已形成了正式产品。第一套系统于2000年6月正式落户中国科学院网络信息中心，用于大规模科学计算和网络信息服务。该系统在整体上已达到90年代末期的国际先进水平，有些方面，如机群操作系统、集成化并行编程环境、并行数学库函数和服务器聚集软件等已达到当前国际领先水平。在可扩展性、易用性、可管理性和可用性方面，在系统的高性能和通用性相统一方面，在机群操作系统、单一系统映象技术和硬件监控技术方面有自己的特色和创新；该系统既可用于科学工程计算，又可用作事务处理和网络信息服务，是一个产品化的超级服务器系统，具有很好的应用前景。 

一．系统简介 
曙光2000-II系统峰值浮点运算速度达到每秒1117亿次，内存总容量达到50GB，磁盘总容量达到600GB（可扩充到几个TB），其中，内置硬盘容量达到439GB，共享磁盘（包括盘阵）容量为223GB。它是一种典型的分布式并行计算机系统，具有先进的机群体系结构。它由82台节点计算机组成，每台节点计算机包含2个处理机，共164个处理机。其中，薄节点机64台，厚节点机8台，高性能节点机8台，服务节点机2台。每台节点机包含2个PowerPC或Power 3处理器芯片，512MB或1GB内存，以及4.5GB或9GB的内置硬盘。系统包含一个178GB的外置盘阵和一个45GB的内置盘阵。有三套连接网络：一套80端口的高速专用Myrinet网，一套96端口的100MB外部以太网(含4个1GB端口)，以及一套16端口的外部以太网。另有一个控制台节点，一个约200GB高速磁盘阵列，一个硬件监控器。曙光2000-II具有丰富而完善的系统软件，包括通信子系统，系统管理子系统，资源管理子系统，作业管理子系统，机群文件子系统。节点操作系统为AIX4.3／4.2.1。系统配有流行的C、Fortran和Java编译器。其并行编程环境有PVM和MPI，串行程序自动并行化工具，并行程序监测工具和并行数学库函数。它支持流行的数据库Oracle/DB2等。为支持网络信息服务，它有并行Web服务和E-mail服务系统。它有服务器聚集软件。此外，还有包括气象、石油、核能和基础科学研究等行业领域在内的一大批行业应用软件。 

二．曙光2000-II的技术特点 
1．突出的SUMA特色： Scalability，可扩展性，曙光2000-II包含160多个CPU，且有很高的系统效率。 Usability，易用性，先进的技术使曙光2000-lI象单机一样好用。 Manageability，可管理性，系统易于管理和控制。 Availability，可用性，系统稳定可靠，部件出错时系统仍能提供服务，有故障监测及自动／手动修复措施。 
2．单一系统映像(单一登录点，单一控制点，单一文件系统等)使系统很好管理和使用。 
3．高性能与通用性的和谐统一： 先进的机群体系结构，每个节点机是一台相对独立的机器。 平衡的系统设计使节点机间通信、I／O能力等方面没有瓶颈。 硬件配置的丰富性与灵活性能满足各种应用需求。 功能强大效率高的系统软件，多种编程工具，各种中间件、库函数和网络信息服务软件使用户能各取所需。 服务器聚集方式使一套系统同时执行多种服务。 广泛采用国际标准和主流技术使曙光2000-II能运行世界上积累的上万种应用软件。 

三．应用范围 
1． 可在下列地点做主服务器：计算中心、网络中心、信息中心、数据中心、清算中心、结算中心、处理中心、监控中心、交换中心等。 
2． 可应用于下列行业领域：石油，气象，水利水电，地质勘探，地震预报，环境监测与分析，机械设计与模拟（汽车、飞机、船舶等），基础科学计算（量子化学、材料科学、理论与高能物理、流体力学、DNA与基因分析、天体物理等），信号与图像处理，事务处理（银行、证券、保险等），网络信息服务等。 

曙光3000超级服务器

正在研制的曙光3000将是一套通用超级服务器系统，其峰值浮点速度将达到每秒3000亿次以上。它支持科学工程计算、事务处理和网络信息服务。该系统与主流商品化平台和部件兼容，具有可扩展性、安全性、好用性、易管理性、高可用性。主要技术指标： 

峰值计算速度： 浮点运算每秒3000亿次以上 
处理机数： 264 
内存总容量： 160GB 
磁盘总容量： 3TB 
互联网络： 高速以太网、高速专用网（总通信带宽为50GB/s） 
机群操作系统： 系统管理、资源管理、作业管理、机群文件系统等 
程序语言： C/C++，Fortran，Java 
集成式并行编程环境：PVM、MPI、ParaVT和Autopar等 
网络信息服务平台：Web Server、E-mail、DNS、FTP等 
数学库函数：BLAS、BLACS等，运行ESSL、PESSL等， 支持DB2、Oracle等流行数据库服务器聚集软件 
一批应用软件：量子化学、材料科学、高能物理、气候模式 和天气动力学等（主要由用户开发） 
曙光NT机群系统 

曙光NT机群系统使用并行处理技术拓展了应用的范围。由于它的设计考虑到性能和可扩展性，系统可以处理具有大规模数据处理和计算密集特征的应用。曙光NT机群的市场定位是，位于SMP和UNIX超级服务器之间，可以取代高端SMP服务器和低端的UNIX超级服务器。曙光NT机群系统为解决大型复杂的技术和商业应用提供解决方案。用户可运行多种应用：计算流体动力学、数值分析、数据采集和决策支持、网络服务、LAN服务器聚集和联机事务处理。 

曙光NT机群系统能够利用多个基于Intel PII微处理器的节点来并行处理单个计算问题。这种并行处理技术可将计算性能和吞吐量提高到串行计算的许多倍。除了提高已有应用的性能外，系统还使得诸如复杂数据采集、气候模拟等新应用成为可能。 

曙光NT机群系统的基本构造块是SMP计算节点。它由一至两个Intel PII 微处理器、存贮器、PCI扩展槽（用于I/O和互连）、和内置磁盘组成。Intel PII微处理器（300/333/400MHZ、400MHZ Xeon）是一种创新产品，它带来了突出的性能及性能价格比。节点类型在单个系统中可以是混和的，每个节点放在一个抽屉状的专门机箱内。这些小机箱可被连结成多达16节点的系统。 每个系统机柜最多可以有8个节点。每个曙光NT机群节点是由一个完整的Microsoft Windows NT4.0企业版操作系统进行管理，能为成千上万个当前可用的NT应用提供接口。除此之外，系统可被分区为多个节点池。例如，两个节点可被用作一个Lotus Notes Domino 服务器，同时另外六个节点可被用于天气预报。 

曙光NT机群系统通过冗余的系统部件提供高可用性支持，如多节点、两个Ethernet网络、RAID盘阵。此外，它还支持NT高可用软件（Wolfpack或Dataware）， 用于支持重要的应用备份和高可用性。例如：当某个节点出现故障，系统执行一个恢复文本，它将当前工作移到另一个节点上，并保证应用的继续执行。有效的并行计算技术需要高带宽、低延迟的节点间通讯。采用千兆位以太网交换机，使得单通道单向数据传输能力高达1000Mb/秒。曙光NT机群系统几乎可以线性地扩展处理器数和存贮容量，这种技术使得TB级（1012）数据处理成为可能，并且使得扩充和升级更加容易管理。如果用户扩展现有系统，那么它的计算能力也随之相应提高。大规模系统的管理一直是个复杂的过程。对于曙光NT机群系统来说，一个图形操作控制台可以显示硬件、软件、作业和用户的状态，这样一来，管理就显得简单得多。系统管理员使用该控制台--一台曙光天阔II225R型服务器和NT机群系统管理系统（DNC）软件产品进行系统管理，例如用户和口令管理、作业的记帐、网络管理、以及系统的启动/关闭，系统监控等等。 

曙光NT机群系统提供了PVM和MPI并行程序设计环境、可支持大量现有的并行程序。此外，曙光NT机群系统提供了一系列广泛的Microsoft NT兼容的开放的软件工具，来支持管理和操作，包括Microsoft的C和Fortran编辑器，SQL Server、Oracle、DB2数据库，Oracle 8、DB2 UDB EEE v5.2并行数据库，IE、Netscape、 曙光天联网络套件，ISI公司的ClementineData Mining System数据挖掘软件，Cluster Domino Server 4.5等。曙光公司将它在大规模并行计算方面的经验应用于曙光NT机群系统的设计上，提供了大规模系统的用户所期望的灵活的、开放式解决方案的能力。 
 
